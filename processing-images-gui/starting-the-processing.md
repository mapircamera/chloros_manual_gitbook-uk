# Початок обробки

Після імпортування зображень, позначення калібрувальних мішеней та налаштування параметрів проекту ви готові розпочати обробку. Ця сторінка допоможе вам розпочати обробку за допомогою конвеєра обробки Chloros.

## Перелік перевірок перед обробкою

Перш ніж натиснути кнопку «Пуск», переконайтеся, що все готово:

* [ ] **Файли імпортовані** — усі зображення відображаються в браузері файлів
* [ ] **Цільові зображення позначені** — стовпець «Ціль» перевірено на наявність калібрувальних зображень
* [ ] **Моделі камер виявлені** — у стовпці «Модель камери» відображаються правильні камери
* [ ] **Налаштування сконфігуровані** — налаштування проекту переглянуті та скориговані
* [ ] **Індекси вибрані** — додані бажані мультиспектральні індекси (за потреби)
* [ ] **Формат експорту вибраний** — вихідний формат, відповідний для вашого робочого процесу

{% hint style=&quot;info&quot; %}
**Порада**: Перед обробкою перегляньте кілька зображень у файловому браузері, щоб переконатися, що вони завантажилися правильно.
{% endhint %}

***

## Початок обробки

### Знайдіть кнопку «Пуск»

Кнопка «Пуск/Відтворити» розташована у верхній панелі заголовка Chloros:

* Розташування: у верхній центральній частині вікна
* Піктограма: **кнопка «Відтворити/Пуск»** <img src="../.gitbook/assets/image (2).png" alt="" data-size="line">
* Статус: кнопка активована (яскрава), коли готова до обробки

### Натисніть, щоб почати

1. Натисніть **кнопку «Відтворити/Почати»** у верхньому заголовку
2. Обробка почнеться негайно
3. Під час обробки кнопка стає неактивною (сірою)
4. Смуга прогресу оновлюється, показуючи стан обробки

{% hint style=&quot;success&quot; %}
**Обробка розпочата**: Після натискання Chloros автоматично виконує всі етапи обробки — виявлення цілі, дебейринг, калібрування, обчислення індексу та експорт.
{% endhint %}

***

## Розуміння режимів обробки

Chloros працює у двох різних режимах обробки залежно від вашої ліцензії:

### Безкоштовний режим (послідовна обробка)

**Доступний для всіх користувачів**

**Як це працює:**

* Обробляє зображення по одному, послідовно
* Однопотокова робота
* Менше використання пам&#x27;яті

**Смуга прогресу показує 2 етапи:**

1. **Виявлення цілі** - Сканування для калібрування цілей
2. **Обробка** - Застосування калібрування та експорт зображень

**Час обробки:**

* Набагато повільніше, ніж паралельний режим Chloros+
* Підходить для малих і середніх наборів даних (&lt; 200 зображень)

### Режим Chloros+ (паралельна обробка)

**Потрібна ліцензія Chloros+**

**Як це працює:**

* Одночасна обробка декількох зображень
* Багатопотокова робота (до 16 паралельних робочих процесів)
* Використання декількох ядер процесора
* Опціональне прискорення за допомогою графічних карт NVIDIA (CUDA)

**Смуга прогресу показує 4 етапи:**

1. **Виявлення** — пошук цілей калібрування
2. **Аналіз** — вивчення метаданих зображення та підготовка конвеєра
3. **Калібрування** — застосування корекцій та калібрування
4. **Експорт** — збереження оброблених зображень та індексів

**Взаємодія з індикатором прогресу:**

* **Наведіть курсор миші** на індикатор, щоб побачити детальну 4-етапну випадаючу панель
* **Клацніть** на індикаторі прогресу, щоб зафіксувати випадаючу панель на місці
* **Клацніть ще раз**, щоб розблокувати та приховати панель

**Час обробки:**

* Значно швидше, ніж у вільному режимі
* Масштабується залежно від кількості ядер процесора
* Прискорення GPU ще більше підвищує швидкість

{% hint style=&quot;info&quot; %}
**Chloros+ Швидкість**: Паралельна обробка може бути в 5-10 разів швидшою за послідовний режим для великих наборів даних. Проект із 500 зображеннями, який у безкоштовному режимі займає 2 години, може бути виконаний за 15-20 хвилин із Chloros+.
{% endhint %}

***

## Що відбувається під час обробки

### Етап 1: Виявлення цілі

**Що робить Chloros:**

* Сканує позначені цільові зображення (або всі зображення, якщо жодне не позначено)
* Ідентифікує 4 калібрувальні панелі в кожній цілі
* Витягує значення відбиття з панелей цілей
* Записує часові мітки цілей для планування калібрування

**Тривалість:** 1-30 секунд (з позначеними цілями), 5-30+ хвилин (без позначок)

### Етап 2: Дебайерінг (перетворення RAW)

**Що робить Chloros:**

* Перетворює дані RAW-матриці Байєра в повні зображення RGB
* Застосовує високоякісний алгоритм демозаїкування
* Зберігає максимальну якість зображення та деталізацію

**Тривалість:** Залежить від кількості зображень та швидкості процесора

### Етап 3: Калібрування

**Що робить Chloros:**

* **Корекція віньєтування**: усуває затемнення об&#x27;єктива по краях
* **Калібрування відбиття**: нормалізує за допомогою цільових значень відбиття
* Застосовує корекції для всіх діапазонів/каналів
* Використовує відповідну ціль калібрування для кожного зображення на основі часової мітки

**Тривалість:** Більша частина часу обробки

### Етап 4: Розрахунок індексу

**Що робить Chloros:**

* Розраховує налаштовані мультиспектральні індекси (NDVI, NDRE тощо)
* Застосовує математичні операції до каліброваних зображень
* Генерує індексні зображення для кожного вибраного індексу

**Тривалість:** кілька секунд на зображення

### Етап 5: Експорт

**Що робить Chloros:**

* Зберігає калібровані зображення у вибраному форматі
* Експортує індексні зображення з налаштованими кольорами LUT
* Записує файли в підпапки моделі камери
* Зберігає оригінальні імена файлів із суфіксами

**Тривалість:** Залежить від формату експорту та розміру файлу

***

## Поведінка обробки

### Автоматичний конвеєр обробки

Після запуску весь конвеєр працює автоматично:

* Не потрібна взаємодія з користувачем
* Усі налаштовані кроки виконуються послідовно
* Оновлення прогресу відображаються в режимі реального часу

### Використання комп&#x27;ютера під час обробки

**Вільний режим:**

* Відносно низьке використання процесора (однопотоковий)
* Комп&#x27;ютер залишається чутливим до інших завдань
* Можна безпечно мінімізувати Chloros і працювати в інших програмах

**Chloros+ Паралельний режим:**

* Високе використання процесора (багатопотоковий, до 16 ядер)
* З прискоренням GPU: високе використання GPU
* Комп&#x27;ютер може бути менш чутливим під час обробки
* Уникайте запуску інших завдань, що інтенсивно використовують процесор

{% hint style=&quot;warning&quot; %}
**Порада щодо продуктивності**: Для найкращої продуктивності Chloros+ закрийте інші програми та дозвольте Chloros використовувати всі системні ресурси.
{% endhint %}

### Обробку неможливо призупинити

**Важливі обмеження:**

* Після запуску обробку неможливо призупинити.
* Ви можете скасувати обробку, але прогрес буде втрачено.
* Часткові результати не зберігаються.
* У разі скасування необхідно почати обробку спочатку.

**Порада щодо планування:** Для дуже великих проектів розгляньте можливість обробки партіями або використання CLI для кращого контролю.

***

## Моніторинг обробки

Під час обробки ви можете:

* **Переглядати індикатор прогресу** — бачити загальний відсоток завершення
* **Переглядати поточний етап** — виявлення, аналіз, калібрування або експорт
* **Переглядати вкладку журналу** — бачити детальні повідомлення та попередження про обробку
* **Переглядати завершені зображення** — деякі експортні файли можуть з&#x27;являтися під час обробки

Детальну інформацію про моніторинг див. у розділі [Моніторинг обробки](monitoring-the-processing.md).

***

## Скасування обробки

Якщо потрібно зупинити обробку:

### Як скасувати

1. Знайдіть **кнопку «Зупинити/Скасувати»** (замінює кнопку «Пуск» під час обробки)
2. Натисніть кнопку «Зупинити»
3. Обробка негайно зупиниться
4. Часткові результати будуть відкинуті

### Коли скасовувати

**Вагомі причини для скасування:**

* Виявлено, що були використані неправильні налаштування
* Забули позначити цільові зображення
* Імпортовано неправильні зображення
* Система працює занадто повільно або не реагує

**Після скасування:**

* Перегляньте та виправте будь-які проблеми
* Відкоригуйте налаштування за потреби
* Почніть обробку спочатку
* Для найкращого досвіду повністю закрийте Chloros і перезапустіть

{% hint style=&quot;warning&quot; %}
**Відсутність часткових результатів**: Скасування відкидає весь прогрес. Chloros не зберігає частково оброблені зображення.
{% endhint %}

***

## Орієнтовний час обробки

Фактичний час обробки сильно залежить від:

* Кількості зображень
* Роздільної здатності зображень
* Формату вхідних даних (RAW або JPG)
* Режиму обробки (Free або Chloros+)
* Швидкості процесора та кількості ядер
* Наявності графічного процесора (лише Chloros+)
* Кількості індексів для обчислення
* Складності формату експорту

### Приблизні оцінки (Chloros+, зображення 12 МП, сучасний процесор)

| Кількість зображень | Безкоштовний режим | Chloros+ (процесор) | Chloros+ (графічний процесор) |
| ----------- | --------- | -------------- | -------------- |
| 50 зображень   | 15-20 хв | 5-8 хв        | 3-5 хв        |
| 100 зображень  | 30-40 хв | 10-15 хв      | 5-8 хв        |
| 200 зображень  | 1-1,5 год | 20-30 хв      | 10-15 хв      |
| 500 зображень  | 2-3 години   | 45-60 хв      | 20-30 хв      |
| 1000 зображень | 4-6 годин   | 1,5-2 години      | 40-60 хв      |

{% hint style=&quot;info&quot; %}
**Перший запуск**: Початкова обробка може зайняти більше часу, оскільки Chloros створює кеші та профілі. Наступна обробка подібних наборів даних буде швидшою.
{% endhint %}

***

## Поширені проблеми під час запуску

### Кнопка «Запустити» неактивна (сірий колір)

**Можливі причини:**

* Не імпортовано зображення
* Бекенд не повністю запущений
* Попередня обробка все ще виконується
* Проект не повністю завантажено

**Рішення:**

1. Зачекайте, поки бекенд повністю ініціалізується (перевірте піктограму головного меню)
2. Перевірте, чи зображення імпортовані в браузері файлів
3. Перезапустіть Chloros, якщо кнопка залишається вимкненою
4. Перевірте журнал налагодження на наявність повідомлень про помилки

### Обробка починається, але одразу ж завершується з помилкою

**Можливі причини:**

* У проекті немає дійсних зображень
* Пошкоджені файли зображень
* Недостатньо місця на диску
* Недостатньо пам&#x27;яті (RAM)

**Рішення:**

1. Перевірте журнал налагодження <img src="../.gitbook/assets/icon_log.JPG" alt="" data-size="line"> на наявність повідомлень про помилки
2. Перевірте наявність вільного місця на диску
3. Спробуйте обробити меншу підгрупу зображень
4. Перевірте, чи зображення не пошкоджені

### Попередження «Не виявлено цілей»

**Можливі причини:**

* Забули позначити цільові зображення
* Цільові зображення не містять видимих цілей
* Налаштування виявлення цілей занадто суворі

**Рішення:**

1. Перегляньте [Вибір зображень-цілей](choosing-target-images.md)
2. Позначте відповідні зображення в стовпці «Ціль»
3. Перевірте, чи цілі видні на позначених зображеннях
4. За необхідності відрегулюйте налаштування виявлення цілей

***

## Поради для успішної обробки

### Перед початком

1. **Спочатку протестуйте на невеликій підмножині** — обробіть 10–20 зображень, щоб перевірити налаштування
2. **Перевірте вільний простір на диску** — переконайтеся, що вільного місця в 2–3 рази більше, ніж розмір набору даних
3. **Закрийте непотрібні програми** — звільніть системні ресурси
4. **Перевірте цільові зображення** — перегляньте позначені цілі, щоб переконатися в їхній якості
5. **Збережіть проект** — проект зберігається автоматично, але рекомендується зберегти його вручну.

### Під час обробки

1. **Уникайте переходу системи в режим сну** — вимкніть режими енергозбереження.
2. **Тримайте Chloros на передньому плані** — або принаймні у видимому стані на панелі завдань.
3. **Періодично перевіряйте хід обробки** — перевіряйте наявність попереджень або помилок.
4. **Не завантажуйте інші важкі програми** - особливо в паралельному режимі Chloros+.

### Chloros+ Прискорення GPU

Якщо ви використовуєте прискорення GPU NVIDIA:

1. Оновіть драйвери NVIDIA до останньої версії.
2. Переконайтеся, що GPU має 4 ГБ+ VRAM.
3. Закрийте програми, що інтенсивно використовують GPU (ігри, редагування відео)
4. Контролюйте температуру GPU (забезпечте належне охолодження)

***

## Наступні кроки

Після початку обробки:

1. **Контролюйте хід виконання** - Див. [Контроль обробки](monitoring-the-processing.md)
2. **Дочекайтеся завершення** — обробка виконується автоматично.
3. **Перегляньте результати** — див. [Завершення обробки](finishing-the-processing.md).

Інформацію про те, що робити під час обробки, див. [Моніторинг обробки](monitoring-the-processing.md).
